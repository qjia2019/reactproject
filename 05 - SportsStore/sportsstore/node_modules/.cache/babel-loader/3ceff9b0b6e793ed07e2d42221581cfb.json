{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _objectSpread from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\src\\\\shop\\\\ShopConnector.js\";\nimport React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { loadData } from \"../data/ActionCreators\";\nimport { DataTypes } from \"../data/Types\";\nimport { Shop } from \"./Shop\";\nimport { addToCart, updateCartQuantity, removeFromCart, clearCart } from \"../data/CartActionCreators\";\nimport { CartDetails } from \"./CartDetails\";\n\nvar mapStateToProps = function mapStateToProps(dataStore) {\n  return _objectSpread({}, dataStore);\n};\n\nvar mapDispatchToProps = {\n  loadData: loadData,\n  addToCart: addToCart,\n  updateCartQuantity: updateCartQuantity,\n  removeFromCart: removeFromCart,\n  clearCart: clearCart\n};\n\nvar filterProducts = function filterProducts() {\n  var products = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var category = arguments.length > 1 ? arguments[1] : undefined;\n  return !category || category === \"All\" ? products : products.filter(function (p) {\n    return p.category.toLowerCase() === category.toLowerCase();\n  });\n};\n\nexport var ShopConnector = connect(mapStateToProps, mapDispatchToProps)(\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_class, _Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_class).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/shop/products/:category?\",\n        render: function render(routeProps) {\n          return React.createElement(Shop, Object.assign({}, _this.props, routeProps, {\n            products: filterProducts(_this.props.products, routeProps.match.params.category),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 32\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/shop/cart\",\n        render: function render(routeProps) {\n          return React.createElement(CartDetails, Object.assign({}, _this.props, routeProps, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(Redirect, {\n        to: \"/shop/products\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.loadData(DataTypes.CATEGORIES);\n      this.props.loadData(DataTypes.PRODUCTS);\n    }\n  }]);\n\n  return _class;\n}(Component));","map":{"version":3,"sources":["C:\\Users\\Qianlan Jia\\Desktop\\coding play\\react\\05 - SportsStore\\sportsstore\\src\\shop\\ShopConnector.js"],"names":["React","Component","Switch","Route","Redirect","connect","loadData","DataTypes","Shop","addToCart","updateCartQuantity","removeFromCart","clearCart","CartDetails","mapStateToProps","dataStore","mapDispatchToProps","filterProducts","products","category","filter","p","toLowerCase","ShopConnector","routeProps","props","match","params","CATEGORIES","PRODUCTS"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QACS,kBADT;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,SAASC,IAAT,QAAqB,QAArB;AACA,SAASC,SAAT,EAAoBC,kBAApB,EAAwCC,cAAxC,EAAwDC,SAAxD,QACS,4BADT;AAEA,SAASC,WAAT,QAA4B,eAA5B;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD;AAAA,2BACjBA,SADiB;AAAA,CAAxB;;AAIA,IAAMC,kBAAkB,GAAG;AACvBV,EAAAA,QAAQ,EAARA,QADuB;AAEvBG,EAAAA,SAAS,EAATA,SAFuB;AAEZC,EAAAA,kBAAkB,EAAlBA,kBAFY;AAEQC,EAAAA,cAAc,EAAdA,cAFR;AAEwBC,EAAAA,SAAS,EAATA;AAFxB,CAA3B;;AAKA,IAAMK,cAAc,GAAG,SAAjBA,cAAiB;AAAA,MAACC,QAAD,uEAAY,EAAZ;AAAA,MAAgBC,QAAhB;AAAA,SAClB,CAACA,QAAD,IAAaA,QAAQ,KAAK,KAA3B,GACMD,QADN,GAEMA,QAAQ,CAACE,MAAT,CAAgB,UAAAC,CAAC;AAAA,WAAIA,CAAC,CAACF,QAAF,CAAWG,WAAX,OAA6BH,QAAQ,CAACG,WAAT,EAAjC;AAAA,GAAjB,CAHa;AAAA,CAAvB;;AAKA,OAAO,IAAMC,aAAa,GAAGlB,OAAO,CAACS,eAAD,EAAkBE,kBAAlB,CAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAEZ;AAAA;;AACL,aAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACH,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,2BAAZ;AACI,QAAA,MAAM,EAAG,gBAACQ,UAAD;AAAA,iBACL,oBAAC,IAAD,oBAAW,KAAI,CAACC,KAAhB,EAA6BD,UAA7B;AACI,YAAA,QAAQ,EAAGP,cAAc,CAAC,KAAI,CAACQ,KAAL,CAAWP,QAAZ,EACrBM,UAAU,CAACE,KAAX,CAAiBC,MAAjB,CAAwBR,QADH,CAD7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADK;AAAA,SADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADG,EAMH,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,YAAZ;AAAyB,QAAA,MAAM,EAAG,gBAACK,UAAD;AAAA,iBAC1B,oBAAC,WAAD,oBAAkB,KAAI,CAACC,KAAvB,EAAoCD,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAD0B;AAAA,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANG,EAQH,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARG,CAAP;AAUH;AAboB;AAAA;AAAA,wCAeD;AAChB,WAAKC,KAAL,CAAWnB,QAAX,CAAoBC,SAAS,CAACqB,UAA9B;AACA,WAAKH,KAAL,CAAWnB,QAAX,CAAoBC,SAAS,CAACsB,QAA9B;AACH;AAlBoB;;AAAA;AAAA,EACX5B,SADW,EAAtB","sourcesContent":["import React, { Component } from \"react\";\nimport { Switch, Route, Redirect } \n    from \"react-router-dom\"\nimport { connect } from \"react-redux\";\nimport { loadData } from \"../data/ActionCreators\";\nimport { DataTypes } from \"../data/Types\";\nimport { Shop } from \"./Shop\";\nimport { addToCart, updateCartQuantity, removeFromCart, clearCart } \n    from \"../data/CartActionCreators\";\nimport { CartDetails } from \"./CartDetails\";\n\nconst mapStateToProps = (dataStore) => ({\n    ...dataStore\n})\n\nconst mapDispatchToProps = {\n    loadData,\n    addToCart, updateCartQuantity, removeFromCart, clearCart\n}\n\nconst filterProducts = (products = [], category) => \n    (!category || category === \"All\") \n        ? products \n        : products.filter(p => p.category.toLowerCase() === category.toLowerCase());\n    \nexport const ShopConnector = connect(mapStateToProps, mapDispatchToProps)(\n    class extends Component {\n        render() {\n            return <Switch>\n                <Route path=\"/shop/products/:category?\"\n                    render={ (routeProps) => \n                        <Shop { ...this.props } { ...routeProps } \n                            products={ filterProducts(this.props.products, \n                                routeProps.match.params.category) } />} />\n                <Route path=\"/shop/cart\" render={ (routeProps) => \n                        <CartDetails { ...this.props } { ...routeProps }  />} />                                \n                <Redirect to=\"/shop/products\" />\n            </Switch>           \n        }\n\n        componentDidMount() {\n            this.props.loadData(DataTypes.CATEGORIES);\n            this.props.loadData(DataTypes.PRODUCTS);\n        }\n    }\n)\n"]},"metadata":{},"sourceType":"module"}