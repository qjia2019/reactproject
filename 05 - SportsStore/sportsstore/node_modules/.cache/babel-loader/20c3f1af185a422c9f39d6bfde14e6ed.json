{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Qianlan Jia\\\\Desktop\\\\coding play\\\\react\\\\05 - SportsStore\\\\sportsstore\\\\src\\\\auth\\\\AuthPrompt.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { authWrapper } from \"./AuthWrapper\";\nimport { ValidatedForm } from \"../forms/ValidatedForm\";\nexport var AuthPrompt = withRouter(authWrapper(\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_class2, _Component);\n\n  function _class2(props) {\n    var _this;\n\n    _classCallCheck(this, _class2);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_class2).call(this, props));\n\n    _this.authenticate = function (credentials) {\n      _this.props.authenticate(credentials).catch(function (err) {\n        return _this.setState({\n          errorMessage: err.message\n        });\n      }).then(_this.props.history.push(\"/admin\"));\n    };\n\n    _this.render = function () {\n      return React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col bg-dark text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"navbar-brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, \"SPORTS STORE\"))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col m-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, _this.state.errorMessage != null && React.createElement(\"h4\", {\n        className: \"bg-danger text-center text-white m-1 p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, _this.state.errorMessage), React.createElement(ValidatedForm, {\n        formModel: _this.formModel,\n        defaultAttrs: _this.defaultAttrs,\n        submitCallback: _this.authenticate,\n        submitText: \"Login\",\n        cancelCallback: function cancelCallback() {\n          return _this.props.history.push(\"/\");\n        },\n        cancelText: \"Cancel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }))));\n    };\n\n    _this.state = {\n      errorMessage: null\n    };\n    _this.defaultAttrs = {\n      required: true\n    };\n    _this.formModel = [{\n      label: \"Username\",\n      attrs: {\n        defaultValue: \"admin\"\n      }\n    }, {\n      label: \"Password\",\n      attrs: {\n        type: \"password\"\n      }\n    }];\n    return _this;\n  }\n\n  return _class2;\n}(Component)));","map":{"version":3,"sources":["C:\\Users\\Qianlan Jia\\Desktop\\coding play\\react\\05 - SportsStore\\sportsstore\\src\\auth\\AuthPrompt.js"],"names":["React","Component","withRouter","authWrapper","ValidatedForm","AuthPrompt","props","authenticate","credentials","catch","err","setState","errorMessage","message","then","history","push","render","state","formModel","defaultAttrs","required","label","attrs","defaultValue","type"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,aAAT,QAA8B,wBAA9B;AAEA,OAAO,IAAMC,UAAU,GAAGH,UAAU,CAACC,WAAW;AAAA;AAAA;AAAA;;AAE5C,mBAAYG,KAAZ,EAAmB;AAAA;;AAAA;;AACf,iFAAMA,KAAN;;AADe,UAYnBC,YAZmB,GAYJ,UAACC,WAAD,EAAiB;AAC5B,YAAKF,KAAL,CAAWC,YAAX,CAAwBC,WAAxB,EACKC,KADL,CACW,UAAAC,GAAG;AAAA,eAAI,MAAKC,QAAL,CAAc;AAAEC,UAAAA,YAAY,EAAEF,GAAG,CAACG;AAApB,SAAd,CAAJ;AAAA,OADd,EAEKC,IAFL,CAEU,MAAKR,KAAL,CAAWS,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,CAFV;AAGH,KAhBkB;;AAAA,UAkBnBC,MAlBmB,GAkBV;AAAA,aACL;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CADJ,CADJ,EAMI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,MAAKC,KAAL,CAAWN,YAAX,IAA2B,IAA3B,IACE;AAAI,QAAA,SAAS,EAAC,0CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,MAAKM,KAAL,CAAWN,YADjB,CAFR,EAMI,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAG,MAAKO,SAAhC;AACI,QAAA,YAAY,EAAG,MAAKC,YADxB;AAEI,QAAA,cAAc,EAAG,MAAKb,YAF1B;AAGI,QAAA,UAAU,EAAC,OAHf;AAII,QAAA,cAAc,EAAG;AAAA,iBAAM,MAAKD,KAAL,CAAWS,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,CAAN;AAAA,SAJrB;AAKI,QAAA,UAAU,EAAC,QALf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANJ,CADJ,CANJ,CADK;AAAA,KAlBU;;AAEf,UAAKE,KAAL,GAAa;AACTN,MAAAA,YAAY,EAAE;AADL,KAAb;AAGA,UAAKQ,YAAL,GAAoB;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAApB;AACA,UAAKF,SAAL,GAAiB,CACb;AAAEG,MAAAA,KAAK,EAAE,UAAT;AAAqBC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE;AAAhB;AAA5B,KADa,EAEb;AAAEF,MAAAA,KAAK,EAAE,UAAT;AAAqBC,MAAAA,KAAK,EAAE;AAAEE,QAAAA,IAAI,EAAE;AAAR;AAA5B,KAFa,CAAjB;AANe;AAUlB;;AAZ2C;AAAA,EAAexB,SAAf,EAAZ,CAA7B","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { authWrapper } from \"./AuthWrapper\";\nimport { ValidatedForm } from \"../forms/ValidatedForm\";\n\nexport const AuthPrompt = withRouter(authWrapper(class extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            errorMessage: null\n        }\n        this.defaultAttrs = { required: true };\n        this.formModel = [\n            { label: \"Username\", attrs: { defaultValue: \"admin\"}}, \n            { label: \"Password\", attrs: { type: \"password\"} }, \n        ];        \n    }\n\n    authenticate = (credentials) => {\n        this.props.authenticate(credentials)\n            .catch(err => this.setState({ errorMessage: err.message}))\n            .then(this.props.history.push(\"/admin\"));\n    }\n\n    render = () => \n        <div className=\"container-fluid\">\n            <div className=\"row\">\n                <div className=\"col bg-dark text-white\">\n                    <div className=\"navbar-brand\">SPORTS STORE</div>\n                </div>\n            </div>        \n            <div className=\"row\">\n                <div className=\"col m-2\">\n                    { this.state.errorMessage != null && \n                        <h4 className=\"bg-danger text-center text-white m-1 p-2\">\n                            { this.state.errorMessage }\n                        </h4>\n                    }\n                    <ValidatedForm formModel={ this.formModel }\n                        defaultAttrs={ this.defaultAttrs }                        \n                        submitCallback={ this.authenticate }\n                        submitText=\"Login\"\n                        cancelCallback={ () => this.props.history.push(\"/\")}\n                        cancelText=\"Cancel\"\n                    />\n                </div>\n            </div>\n        </div>\n}))\n"]},"metadata":{},"sourceType":"module"}